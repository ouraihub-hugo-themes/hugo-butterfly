/**
 * 右侧工具栏样式 - 使用 Tailwind CSS v4 @apply
 */

@layer components {
  /* 右侧工具栏容器 */
  #rightside {
    @apply fixed right-5 bottom-10 z-100 flex flex-col gap-2.5;
  }

  /* 配置区域容器 */
  #rightside-config-hide,
  #rightside-config-show {
    @apply flex flex-col gap-2.5;
  }

  /* 按钮基础样式 */
  #rightside button,
  #rightside a {
    @apply relative flex items-center justify-center;
    @apply w-10 h-10 rounded-lg cursor-pointer;
    @apply bg-primary text-white border-none;
    @apply transition-all duration-300;
    @apply shadow-[0_2px_8px_rgba(73,177,245,0.3)];
  }

  /* 按钮悬停效果 */
  #rightside button:hover,
  #rightside a:hover {
    @apply bg-primary-hover;
    @apply -translate-y-0.5;
    @apply shadow-[0_4px_12px_rgba(73,177,245,0.4)];
  }

  /* 返回顶部按钮 */
  #go-up {
    @apply relative;
  }

  #go-up .scroll-percent {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
    @apply text-xs font-bold hidden;
  }

  #go-up.show-percent .scroll-percent {
    @apply block;
  }

  #go-up.show-percent i {
    @apply hidden;
  }

  /* 隐藏状态 */
  #rightside button.hide,
  #rightside a.hide {
    @apply opacity-0 pointer-events-none translate-x-[100px];
  }

  /* 确保图标始终显示 */
  #rightside button i,
  #rightside a i {
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* 激活状态的按钮 */
  #rightside button.active {
    @apply bg-primary-hover;
  }
  
  /* 隐藏侧边栏按钮的旋转效果 */
  #hide-aside-btn.active {
    @apply rotate-180;
  }

  /* 隐藏侧边栏效果 */
  .sidebar-wrapper.hide,
  #aside.hide,
  aside.hide {
    @apply translate-x-full opacity-0 pointer-events-none;
  }

  /* 主题切换器容器 */
  #rightside > div > div[style*="position: relative"] {
    @apply block;
  }

  /* 移动端适配 */
  @media (max-width: 768px) {
    #rightside {
      @apply right-2.5 bottom-5;
    }

    #rightside button,
    #rightside a {
      @apply w-9 h-9 text-sm;
    }
    
    /* 确保主题切换器容器在移动端显示 */
    #rightside > div > div[style*="position: relative"] {
      @apply block w-9 h-9;
    }
  }

  /* 暗色模式 */
  .dark #rightside button,
  .dark #rightside a {
    @apply bg-[rgba(73,177,245,0.8)];
  }

  .dark #rightside button:hover,
  .dark #rightside a:hover {
    @apply bg-primary;
  }
}