/**
 * 导航栏和 Hero 区域样式
 */

/* ========================================
   导航栏样式
   ======================================== */

/* 导航栏背景 - 透明 + 毛玻璃效果 */
#page-header {
    background: transparent;
    backdrop-filter: blur(10px) brightness(0.95);
    -webkit-backdrop-filter: blur(10px) brightness(0.95);
    box-shadow: none;
}

/* 首页导航栏完全透明 - 无背景框 */
.index-page #page-header {
    background: transparent;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    box-shadow: none;
}

/* 暗色模式导航栏 - 半透明深色背景确保文字可见 */
#page-header.dark,
.dark #page-header,
html.dark #page-header {
    background: rgba(17, 24, 39, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* 暗色模式首页导航栏也使用半透明深色背景 */
html.dark .index-page #page-header,
html.dark body.index-page #page-header {
    background: rgba(17, 24, 39, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* 菜单项基础样式 - 默认深色文字（非首页） */
.site-page {
    position: relative;
    color: rgb(31, 41, 55);
    transition: color 0.3s ease-in-out;
    border: none;
    outline: none;
}

.menus_item {
    border: none;
    outline: none;
}

/* 首页使用深色文字 - 在浅紫色背景上清晰可见 */
html:not(.dark) body.index-page .site-page,
html:not(.dark) .index-page #page-header .site-page,
html:not(.dark) .index-page .menus_item .site-page,
body.index-page:not(.dark) .site-page {
    color: rgb(31, 41, 55) !important;
    text-shadow: none;
}

/* 下拉菜单中的链接恢复深色文字 */
.menus_item_child .site-page {
    color: rgb(55, 65, 81);
    text-shadow: none;
}

.dark .menus_item_child .site-page {
    color: rgb(55, 65, 81) !important;
    text-shadow: none;
}

/* 网站标题 - 默认深色（非首页） */
.site-name {
    color: rgb(17, 24, 39) !important;
    font-weight: 600;
}

/* 首页标题使用深色 - 在浅紫色背景上清晰可见 */
html:not(.dark) body.index-page .site-name,
html:not(.dark) .index-page #page-header .site-name,
body.index-page:not(.dark) .site-name {
    color: rgb(17, 24, 39) !important;
    text-shadow: none;
}

/* 暗色模式下的网站标题 - 白色 + 深色阴影增强可见性 */
.dark .site-name,
html.dark .site-name,
:is(.dark, html.dark) .site-name {
    color: #ffffff !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.5);
}

/* 暗色模式首页使用白色标题 */
html.dark .index-page .site-name,
html.dark body.index-page .site-name {
    color: #ffffff !important;
}

/* 暗色模式下的菜单项 - 白色 + 深色阴影增强可见性 */
.dark .site-page,
html.dark .site-page,
:is(.dark, html.dark) .site-page {
    color: rgba(255, 255, 255, 0.95) !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.5);
}

/* 暗色模式首页使用白色文字 */
html.dark .index-page .site-page,
html.dark body.index-page .site-page {
    color: rgba(255, 255, 255, 0.95) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* 菜单项悬停状态 - 默认（非首页） */
.site-page:hover {
    color: rgb(17, 24, 39);
    background-color: rgba(0, 0, 0, 0.05);
}

/* 首页的悬停状态（紫色背景） */
.index-page .site-page:hover {
    color: #ffffff;
    background-color: rgba(255, 255, 255, 0.1);
}

/* 下拉菜单项悬停状态 */
.menus_item_child .site-page:hover {
    color: rgb(17, 24, 39);
    background-color: rgba(0, 0, 0, 0.08);
}

/* 暗色模式下的菜单项悬停状态 - 默认（非首页） */
.dark .site-page:hover,
html.dark .site-page:hover,
:is(.dark, html.dark) .site-page:hover {
    color: #ffffff !important;
    background-color: rgba(73, 177, 245, 0.25);
}

/* 暗色模式首页的悬停状态 */
html.dark .index-page .site-page:hover,
html.dark body.index-page .site-page:hover {
    color: #ffffff !important;
    background-color: rgba(255, 255, 255, 0.15);
}

.dark .menus_item_child .site-page:hover {
    color: #ffffff;
    background-color: rgba(73, 177, 245, 0.2);
}

/* 桌面端菜单项下划线效果 */
.menus_item>a.site-page::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--color-primary);
    transition: width 0.3s ease-in-out;
}

/* 首页的下划线使用白色 */
.index-page .menus_item>a.site-page::after {
    background-color: #ffffff;
}

/* 暗色模式非首页使用主题色下划线 */
.dark .menus_item>a.site-page::after,
html.dark .menus_item>a.site-page::after {
    background-color: var(--color-primary);
}

/* 暗色模式首页使用白色下划线 */
html.dark .index-page .menus_item>a.site-page::after,
html.dark body.index-page .menus_item>a.site-page::after {
    background-color: #ffffff;
}

.menus_item>a.site-page:hover::after {
    width: 100%;
}

/* 当前页面菜单项激活状态 */
.menus_item>a.site-page[aria-current="page"]::after,
.menus_item>a.site-page.active::after {
    width: 100%;
}

/* 激活状态的文字样式 - 默认（非首页） */
.menus_item>a.site-page[aria-current="page"],
.menus_item>a.site-page.active {
    color: var(--color-primary);
    font-weight: 600;
    background-color: transparent;
}

/* 首页的激活状态使用白色 */
.index-page .menus_item>a.site-page[aria-current="page"],
.index-page .menus_item>a.site-page.active {
    color: #ffffff;
    font-weight: 600;
    background-color: transparent;
}

/* 激活状态下的 hover 效果 */
.menus_item>a.site-page[aria-current="page"]:hover,
.menus_item>a.site-page.active:hover {
    color: var(--color-nav-text-hover);
}

/* 暗黑模式下的激活状态 - 默认使用主题色（非首页） */
.dark .menus_item>a.site-page[aria-current="page"],
.dark .menus_item>a.site-page.active,
html.dark .menus_item>a.site-page[aria-current="page"],
html.dark .menus_item>a.site-page.active {
    color: var(--color-primary);
    font-weight: 600;
    background-color: transparent;
}

/* 暗黑模式首页的激活状态使用白色 */
html.dark .index-page .menus_item>a.site-page[aria-current="page"],
html.dark .index-page .menus_item>a.site-page.active,
html.dark body.index-page .menus_item>a.site-page[aria-current="page"],
html.dark body.index-page .menus_item>a.site-page.active {
    color: #ffffff;
    font-weight: 600;
    background-color: transparent;
}

/* 子菜单下拉动画 */
.menus_item_child {
    transform-origin: top;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 子菜单箭头指示器 */
.menus_item_child::before {
    content: "";
    position: absolute;
    top: -6px;
    right: 20px;
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-bottom: 6px solid white;
}

.dark .menus_item_child::before {
    border-bottom-color: rgb(31, 41, 55);
}

/* 移动端菜单滚动条 */
#sidebar-menus {
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) transparent;
}

#sidebar-menus::-webkit-scrollbar {
    width: 6px;
}

#sidebar-menus::-webkit-scrollbar-track {
    background: transparent;
}

#sidebar-menus::-webkit-scrollbar-thumb {
    background: var(--color-primary);
    border-radius: 3px;
}

/* 移动端子菜单展开动画 */
.mobile-submenu {
    transition: max-height 0.3s ease-in-out;
}

/* 响应式菜单切换 */
@media (max-width: 1023px) {
    #nav.hide-menu .menus_items {
        display: none;
    }

    #nav.hide-menu #toggle-menu {
        display: block;
    }
}

/* ========================================
   语言切换器样式
   ======================================== */

/* 桌面端语言切换器 */
.language-switcher-desktop {
    position: relative;
    display: none;
}

.language-switcher-desktop button {
    white-space: nowrap;
}

.language-switcher-desktop button .fa-chevron-down {
    transition: transform 0.2s ease;
}

.language-switcher-desktop:hover button .fa-chevron-down,
.language-switcher-desktop:focus-within button .fa-chevron-down {
    transform: rotate(180deg);
}

/* 语言菜单下拉动画 */
.language-menu {
    transform-origin: top left;
    transition:
        opacity 0.3s ease,
        visibility 0.3s ease,
        transform 0.3s ease;
    transform: translateY(-10px);
}

.language-switcher-desktop:hover .language-menu,
.language-switcher-desktop:focus-within .language-menu {
    transform: translateY(0);
}

.language-menu li a {
    white-space: nowrap;
}

.language-menu li:first-child a {
    border-radius: 0.5rem 0.5rem 0 0;
}

.language-menu li:last-child a {
    border-radius: 0 0 0.5rem 0.5rem;
}

.language-menu li a[aria-current="true"],
.mobile-language-switcher .mobile-menu-item[aria-current="true"] {
    background-color: rgb(73 177 245 / 0.1);
}

.dark .language-menu li a[aria-current="true"],
.dark .mobile-language-switcher .mobile-menu-item[aria-current="true"] {
    background-color: rgb(73 177 245 / 0.15);
}

/* 移动端语言切换器 */
.mobile-language-switcher {
    margin-top: 1rem;
    display: block;
}

.mobile-language-switcher .menu-section-title {
    letter-spacing: 0.05em;
}

.mobile-language-switcher .mobile-menu-item {
    font-size: 0.9375rem;
}

/* 响应式媒体查询 - 合并优化 */
@media (min-width: 1024px) {
    .language-switcher-desktop {
        display: block !important;
    }

    .mobile-language-switcher {
        display: none !important;
        visibility: hidden !important;
    }
}

@media (max-width: 1023px) {

    .language-switcher-desktop,
    .language-switcher-desktop *,
    .language-menu {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }

    .mobile-language-switcher {
        display: block !important;
    }
}

/* 强制在桌面端隐藏移动端语言切换器 */
@media (min-width: 1024px) {
    .mobile-language-switcher {
        display: none !important;
        visibility: hidden !important;
    }
}

/* ========================================
   Hero 区域样式
   ======================================== */

#page-header-hero {
    position: relative;
    width: 100%;
    height: 100vh;
    min-height: 600px;
    background-attachment: fixed;
}

/* 移动端禁用视差效果 */
@media (max-width: 768px) {
    #page-header-hero {
        height: 80vh;
        min-height: 500px;
        background-attachment: scroll;
    }
}

/* Hero 内容样式 */
#site-info {
    z-index: 10;
}

#site-title {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    animation: fadeInUp 0.8s ease-out;
}

#site-subtitle {
    animation: fadeInUp 1s ease-out 0.2s both;
}

#site-social-icons {
    animation: fadeInUp 1.2s ease-out 0.4s both;
}

#scroll-down {
    z-index: 10;
    animation: fadeIn 1.5s ease-out 0.6s both;
}

/* Hero 动画 */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* 菜单项选中文字样式 */
.site-page::selection {
    background-color: rgba(73, 177, 245, 0.3);
    color: #ffffff;
}

.site-page::-moz-selection {
    background-color: rgba(73, 177, 245, 0.3);
    color: #ffffff;
}

/* 暗黑模式下的选中文字样式 */
.dark .site-page::selection,
html.dark .site-page::selection {
    background-color: rgba(73, 177, 245, 0.3);
    color: #ffffff;
}

.dark .site-page::-moz-selection,
html.dark .site-page::-moz-selection {
    background-color: rgba(73, 177, 245, 0.3);
    color: #ffffff;
}

/* 禁用菜单项的默认选中/激活背景色 */
.menus_item>a.site-page:active {
    background-color: transparent !important;
    color: var(--color-nav-text) !important;
}

.menus_item>a.site-page:focus {
    background-color: transparent !important;
    outline: none;
}

/* 暗黑模式下的菜单项激活状态 - 禁用浏览器默认深蓝色 */
.dark .menus_item>a.site-page:active,
html.dark .menus_item>a.site-page:active {
    background-color: transparent !important;
    color: var(--color-nav-text) !important;
}

.dark .menus_item>a.site-page:focus,
html.dark .menus_item>a.site-page:focus {
    background-color: transparent !important;
    outline: none;
}