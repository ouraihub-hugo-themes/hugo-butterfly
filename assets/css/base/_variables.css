/**
 * 设计令牌 (Design Tokens) - Tailwind CSS v4 最佳实践
 * 推荐方案：纯色用十六进制 + 需要透明度的用 rgb() 格式
 * 所有颜色定义都在 @theme 块中，避免重复定义
 */

@theme {
    /* ========================================
       主题色
       ======================================== */
    --color-primary: #49b1f5;
    --color-primary-hover: #3da8f5;
    --color-primary-light: #e8f4fd;

    /* 强调色 */
    --color-accent: #00c4b6;
    --color-accent-hover: #00b3a6;

    /* 辅助色 */
    --color-orange: #ff7242;
    --color-red: #f47466;
    --color-purple: #6f42c1;
    --color-green: #5cb85c;

    /* ========================================
       灰度色系 - 浅色模式
       ======================================== */
    --color-gray-50: #f6f8fa;
    --color-gray-100: #f0f0f0;
    --color-gray-200: #e1e1e1;
    --color-gray-300: #cacaca;
    --color-gray-400: #999999;
    --color-gray-500: #858585;
    --color-gray-600: #666261;
    --color-gray-700: #4c4948;
    --color-gray-800: #2b2b2b;
    --color-gray-900: #1f2d3d;

    /* ========================================
       卡片背景和边框 - 浅色模式
       ======================================== */
    --color-card-bg: #ffffff;
    --color-card-border: #e1e1e1;

    /* ========================================
       导航菜单颜色 - 浅色模式
       ======================================== */
    --color-nav-text: #000000;
    --color-nav-text-hover: #999999;
    --color-nav-bg-hover: rgb(255 255 255 / 0.05);
    --color-header-bg: rgba(255, 255, 255, 0.8);
    --color-header-bg-dark: rgba(55, 65, 81, 0.8);

    /* ========================================
       卡片文本颜色 - 浅色模式
       ======================================== */
    --color-card-text: #373f47;
    --color-card-text-secondary: #6b7280;
    --color-card-text-tertiary: #9ca3af;

    /* ========================================
       暗黑模式下的卡片背景和边框
       ======================================== */
    --color-card-bg-dark: #1f2937;
    --color-card-border-dark: #374151;

    /* ========================================
       暗黑模式下的导航菜单颜色
       ======================================== */
    --color-nav-text-dark: #ffffff;
    --color-nav-text-hover-dark: #cccccc;
    --color-nav-bg-hover-dark: rgb(255 255 255 / 0.05);

    /* ========================================
       暗黑模式下的卡片文本颜色
       ======================================== */
    --color-card-text-dark: #d1d5db;
    --color-card-text-secondary-dark: #9ca3af;
    --color-card-text-tertiary-dark: #6b7280;

    /* ========================================
       文章内容区域 - 浅色模式
       ======================================== */
    --color-post-content-bg: #ffffff;
    --color-post-content-text: #1f2937;
    --color-post-content-border: #e5e7eb;

    /* ========================================
       文章内容区域 - 暗黑模式
       ======================================== */
    --color-post-content-bg-dark: #1f2937;
    --color-post-content-text-dark: #d1d5db;
    --color-post-content-border-dark: #374151;

    /* ========================================
       代码高亮 - 浅色模式
       ======================================== */
    --color-code-text: #383a42;
    --color-code-bg: #fafafa;
    --color-code-border: #e5e7eb;
    --color-code-tools-bg: #f3f4f6;
    --color-code-tools-text: #6b7280;
    --color-code-number-bg: #f9fafb;
    --color-code-number-text: #9ca3af;
    --color-code-scrollbar: #e5e7eb;

    /* ========================================
       代码高亮 - 暗黑模式
       ======================================== */
    --color-code-text-dark: #ffffff;
    --color-code-bg-dark: #1e1e1e;
    --color-code-border-dark: #374151;
    --color-code-tools-bg-dark: #252525;
    --color-code-tools-text-dark: #90a4ae;
    --color-code-number-bg-dark: #1e1e1e;
    --color-code-number-text-dark: rgba(255, 255, 255, 0.5);
    --color-code-scrollbar-dark: #2d2d2d;

    /* ========================================
       字体系统
       ======================================== */
    --font-sans:
        -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Lato,
        Roboto, "PingFang SC", "Microsoft YaHei", sans-serif;
    --font-mono: Consolas, Menlo, Monaco, "Courier New", monospace;

    /* ========================================
       字体大小
       ======================================== */
    --font-size-xs: 0.75rem; /* 12px */
    --font-size-sm: 0.875rem; /* 14px */
    --font-size-base: 1rem; /* 16px */
    --font-size-lg: 1.125rem; /* 18px */
    --font-size-xl: 1.25rem; /* 20px */
    --font-size-2xl: 1.5rem; /* 24px */
    --font-size-3xl: 1.875rem; /* 30px */
    --font-size-4xl: 2.25rem; /* 36px */

    /* ========================================
       圆角
       ======================================== */
    --radius-sm: 0.25rem; /* 4px */
    --radius-md: 0.5rem; /* 8px */
    --radius-lg: 0.75rem; /* 12px */
    --radius-xl: 1rem; /* 16px */
    --radius-2xl: 1.5rem; /* 24px */

    /* ========================================
       阴影
       ======================================== */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

    /* ========================================
       过渡动画
       ======================================== */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========================================
   暗黑模式覆盖 - 使用 @layer base
   ======================================== */
@layer base {
    /* 通过 .dark class 或 html.dark 检测暗黑模式 */
    :is(.dark, html.dark) {
        /* 卡片背景和边框 */
        --color-card-bg: var(--color-card-bg-dark);
        --color-card-border: var(--color-card-border-dark);

        /* 导航菜单颜色 */
        --color-nav-text: var(--color-nav-text-dark);
        --color-nav-text-hover: var(--color-nav-text-hover-dark);
        --color-nav-bg-hover: var(--color-nav-bg-hover-dark);
        --color-header-bg: var(--color-header-bg-dark);

        /* 卡片文本颜色 */
        --color-card-text: var(--color-card-text-dark);
        --color-card-text-secondary: var(--color-card-text-secondary-dark);
        --color-card-text-tertiary: var(--color-card-text-tertiary-dark);

        /* 文章内容区域 */
        --color-post-content-bg: var(--color-post-content-bg-dark);
        --color-post-content-text: var(--color-post-content-text-dark);
        --color-post-content-border: var(--color-post-content-border-dark);

        /* 代码高亮 */
        --color-code-text: var(--color-code-text-dark);
        --color-code-bg: var(--color-code-bg-dark);
        --color-code-border: var(--color-code-border-dark);
        --color-code-tools-bg: var(--color-code-tools-bg-dark);
        --color-code-tools-text: var(--color-code-tools-text-dark);
        --color-code-number-bg: var(--color-code-number-bg-dark);
        --color-code-number-text: var(--color-code-number-text-dark);
        --color-code-scrollbar: var(--color-code-scrollbar-dark);
    }

    /* 也支持系统暗黑模式偏好设置 */
    @media (prefers-color-scheme: dark) {
        :root {
            /* 卡片背景和边框 */
            --color-card-bg: var(--color-card-bg-dark);
            --color-card-border: var(--color-card-border-dark);

            /* 导航菜单颜色 */
            --color-nav-text: var(--color-nav-text-dark);
            --color-nav-text-hover: var(--color-nav-text-hover-dark);
            --color-nav-bg-hover: var(--color-nav-bg-hover-dark);
            --color-header-bg: var(--color-header-bg-dark);

            /* 卡片文本颜色 */
            --color-card-text: var(--color-card-text-dark);
            --color-card-text-secondary: var(--color-card-text-secondary-dark);
            --color-card-text-tertiary: var(--color-card-text-tertiary-dark);

            /* 文章内容区域 */
            --color-post-content-bg: var(--color-post-content-bg-dark);
            --color-post-content-text: var(--color-post-content-text-dark);
            --color-post-content-border: var(--color-post-content-border-dark);

            /* 代码高亮 */
            --color-code-text: var(--color-code-text-dark);
            --color-code-bg: var(--color-code-bg-dark);
            --color-code-border: var(--color-code-border-dark);
            --color-code-tools-bg: var(--color-code-tools-bg-dark);
            --color-code-tools-text: var(--color-code-tools-text-dark);
            --color-code-number-bg: var(--color-code-number-bg-dark);
            --color-code-number-text: var(--color-code-number-text-dark);
            --color-code-scrollbar: var(--color-code-scrollbar-dark);
        }
    }
}
